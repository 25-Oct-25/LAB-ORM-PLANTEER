{% extends 'main/base.html' %}

{% block content %}

<div class="detail-wrapper">

    <div class="detail-flex">

        <div class="detail-left">
            {% if plant.image %}
                <img src="{{ plant.image.url }}" alt="{{ plant.name }}">
            {% else %}
                <img src="/media/images/default.jpeg" alt="default plant">
            {% endif %}
        </div>

        <div class="detail-right">
            <h1 class="detail-title">{{ plant.name }}</h1>

            <p class="detail-category">{{ plant.get_category_display }}</p>

            <p class="detail-text">{{ plant.about }}</p>

            <p><strong>Is Edible:</strong>
                {% if plant.is_edible %} Yes {% else %} No {% endif %}
            </p>

            <p><strong>Used For:</strong> {{ plant.used_for }}</p>

            <div class="detail-actions">
                <a href="{% url 'plants:plants_update' plant.id %}" class="edit-btn">Edit</a>
               <a href="{% url 'plants:plants_delete' plant.id %}" 
                    class="delete-btn"
                    onclick="return confirm('Are you sure?');">
                    Delete
                </a>


            </div>

        </div>
    </div>


<h2 class="related-title">Related Plants</h2>

<div class="related-grid">
    {% for p in related_plants %}
        <div class="related-card">
            <div class="related-img">
                {% if p.image %}
                    <img src="{{ p.image.url }}" alt="{{ p.name }}">
                {% else %}
                    <img src="/media/images/default.jpeg" alt="default">
                {% endif %}
            </div>

            <div class="related-info">
                <h3>{{ p.name }}</h3>
                <p class="brief">{{ p.about|truncatechars:40 }}</p>
                <p class="cat">{{ p.get_category_display }}</p>
            </div>
        </div>
    {% empty %}
        <p>No related plants available.</p>
    {% endfor %}
</div>


{% endblock %}
