{% extends 'main/base.html' %}

{% block content %}

<div class="container">

    <h1 class="search-title">Search Results</h1>

    <form method="GET" action="{% url 'plants:plants_search' %}" class="search-bar big-search">
        <input type="text" name="q" placeholder="Search..." value="{{ query }}">
        <button type="submit">Search</button>
    </form>

    <p class="search-info">
        Showing <strong>{{ count }}</strong> result(s) for:
        <strong>"{{ query }}"</strong>
    </p>

    <div class="plants-grid">

        {% for plant in results %}
        <div class="plant-card">

            {% if plant.image %}
                <img src="{{ plant.image.url }}" class="plant-img" />
            {% else %}
                <img src="/media/images/default.jpeg" class="plant-img" />
            {% endif %}

            <h3>
                <a href="{% url 'plants:plants_detail' plant.id %}">
                    {{ plant.name }}
                </a>
            </h3>

            <p class="brief">{{ plant.about|truncatechars:40 }}</p>
            <p class="category">{{ plant.get_category_display }}</p>

        </div>
        {% empty %}
        <p>No plants found.</p>
        {% endfor %}

    </div>

</div>

{% endblock %}
