{% extends "base.html" %}
{% block content %}

<h1>Update Plant</h1>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <input type="text" name="name" value="{{ plant.name }}" required>

    <textarea name="about" required>{{ plant.about }}</textarea>

    <textarea name="used_for" required>{{ plant.used_for }}</textarea>

    <select name="category" required>
        <option value="Tree" {% if plant.category == "Tree" %} selected {% endif %}>Tree</option>
        <option value="Fruit" {% if plant.category == "Fruit" %} selected {% endif %}>Fruit</option>
        <option value="Vegetable" {% if plant.category == "Vegetable" %} selected {% endif %}>Vegetable</option>
        <option value="Flower" {% if plant.category == "Flower" %} selected {% endif %}>Flower</option>
    </select>

    <label>Edible?</label>
    <input type="checkbox" name="is_edible" {% if plant.is_edible %} checked {% endif %}> 

    <label>Native Countries:</label>
    <div class="checkbox-list">
        {% for c in countries %}
            <label class="checkbox-item">
                <input type="checkbox" name="countries[]" value="{{ c.id }}"
                    {% if c.id in selected_countries %} checked {% endif %}>
                    {{ c.name }}
            </label>
        {% endfor %}
    </div>


    <label>Current Image</label>
    <img src="{{ plant.image.url }}" style="max-width: 200px; display: block; margin-bottom: 15px; border-radius: 8px;">


    <input type="file" name="image">

    <button type="submit">Update Plant</button>
</form>

{% endblock %}